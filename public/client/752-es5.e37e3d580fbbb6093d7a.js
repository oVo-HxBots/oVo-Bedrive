!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkbedrive2=self.webpackChunkbedrive2||[]).push([[752,401],{82613:function(e,t,i){"use strict";i.d(t,{U0:function(){return q},VQ:function(){return x},Fk:function(){return T}});var a=i(37716),r=i(72458),s=i(39490),u=i(3679),d=i(46237),p=i(19238),f=i(38345),m=["input"],h=function(){return{enterDuration:150}},g=["*"],v=new a.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),b=0,k={provide:u.JU,useExisting:(0,a.Gpc)(function(){return x}),multi:!0},_=function e(t,n){l(this,e),this.source=t,this.value=n},y=new a.OlP("MatRadioGroup"),Z=function(){var e=function(){function e(t){l(this,e),this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+b++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new a.vpe}return c(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,s.Ig)(e),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(e){this._required=(0,s.Ig)(e),this._markRadiosForCheck()}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var e=this;this._radios&&this._radios.forEach(function(t){t.name=e.name,t._markForCheck()})}},{key:"_updateSelectedRadioFromValue",value:function(){var e=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(t){t.checked=e.value===t.value,t.checked&&(e._selected=t)}))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new _(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach(function(e){return e._markForCheck()})}},{key:"writeValue",value:function(e){this.value=e,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetector.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.sBO))},e.\u0275dir=a.lG2({type:e,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),e}(),x=function(){var e,t=function(e){n(i,e);var t=o(i);function i(){return l(this,i),t.apply(this,arguments)}return i}(Z);return t.\u0275fac=function(n){return(e||(e=a.n5z(t)))(n||t)},t.\u0275dir=a.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,t,n){var i;(1&e&&a.Suo(n,q,5),2&e)&&(a.iGM(i=a.CRH())&&(t._radios=i))},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[a._Bn([k,{provide:y,useExisting:t}]),a.qOj]}),t}(),w=(0,r.Kr)((0,r.sb)(function e(t){l(this,e),this._elementRef=t})),A=function(){var e=function(e){n(i,e);var t=o(i);function i(e,n,o,r,c,u,d,p){var f;return l(this,i),(f=t.call(this,n))._changeDetector=o,f._focusMonitor=r,f._radioDispatcher=c,f._animationMode=u,f._providerOverride=d,f._uniqueId="mat-radio-"+ ++b,f.id=f._uniqueId,f.change=new a.vpe,f._checked=!1,f._value=null,f._removeUniqueSelectionListener=function(){},f.radioGroup=e,p&&(f.tabIndex=(0,s.su)(p,0)),f._removeUniqueSelectionListener=c.listen(function(e,t){e!==f.id&&t===f.name&&(f.checked=!1)}),f}return c(i,[{key:"checked",get:function(){return this._checked},set:function(e){var t=(0,s.Ig)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(e){this._labelPosition=e}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(e){this._setDisabled((0,s.Ig)(e))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(e){this._required=(0,s.Ig)(e)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(e){this._color=e}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"focus",value:function(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){!t&&e.radioGroup&&e.radioGroup._touch()})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new _(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"_onInputChange",value:function(e){e.stopPropagation();var t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}]),i}(w);return e.\u0275fac=function(t){return new(t||e)(a.Y36(Z),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(p.tE),a.Y36(f.A8),a.Y36(String),a.Y36(void 0),a.Y36(String))},e.\u0275dir=a.lG2({type:e,viewQuery:function(e,t){var n;(1&e&&a.Gf(m,5),2&e)&&(a.iGM(n=a.CRH())&&(t._inputElement=n.first))},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[a.qOj]}),e}(),q=function(){var e=function(e){n(i,e);var t=o(i);function i(e,n,o,a,r,s,c,u){return l(this,i),t.call(this,e,n,o,a,r,s,c,u)}return i}(A);return e.\u0275fac=function(t){return new(t||e)(a.Y36(y,8),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(p.tE),a.Y36(f.A8),a.Y36(d.Qb,8),a.Y36(v,8),a.$8M("tabindex"))},e.\u0275cmp=a.Xpm({type:e,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&a.NdJ("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(a.uIk("tabindex",null)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.ekj("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.qOj],ngContentSelectors:g,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1),a.TgZ(2,"span",2),a._UZ(3,"span",3),a._UZ(4,"span",4),a.TgZ(5,"input",5,6),a.NdJ("change",function(e){return t._onInputChange(e)})("click",function(e){return t._onInputClick(e)}),a.qZA(),a.TgZ(7,"span",7),a._UZ(8,"span",8),a.qZA(),a.qZA(),a.TgZ(9,"span",9),a.TgZ(10,"span",10),a._uU(11,"\xa0"),a.qZA(),a.Hsn(12),a.qZA(),a.qZA()),2&e){var n=a.MAs(1);a.uIk("for",t.inputId),a.xp6(5),a.Q6J("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),a.uIk("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),a.xp6(2),a.Q6J("matRippleTrigger",n)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.DdM(18,h)),a.xp6(2),a.ekj("mat-radio-label-before","before"==t.labelPosition)}},directives:[r.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e}(),T=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.si,r.BQ],r.BQ]}),e}()},72752:function(e,t,n){"use strict";n.r(t),n.d(t,{WorkspaceWrapperModule:function(){return B}});var i=n(38583),o=n(41401),a=n(63423),r=n(81769),s=n(87991),u=n(68145),d=n(99883),p=n(97335),f=n(8208),m=n(34899),h=n(12414),g=n(37716),v=n(24688),b=n(35718),k=n(15381),_=n(15515),y=n(99905),Z=n(7964),x=n(51095),w=n(76627),A=["infoIcon"],q=["popoverContent"];function T(e,t){1&e&&g.Hsn(0)}var I=["*"],C=function(){var e=function(){function e(t,n){l(this,e),this.overlay=t,this.viewContainerRef=n}return c(e,[{key:"openPopover",value:function(){var e=this;this.overlayRef&&this.closePopover(),Object.assign({},y.Z)[0].offsetY=-15,this.overlayRef=this.overlay.open(this.content,{origin:this.infoButton,position:y.Z,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,panelClass:["info-popover-panel",this.wider?"wider":null]}),this.overlayRef.getPanelEl().addEventListener("mouseleave",function(){e.closePopover()})}},{key:"closePopover",value:function(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}},{key:"togglePopover",value:function(){this.overlayRef?this.closePopover():this.openPopover()}},{key:"onMouseLeave",value:function(e){var t=e.toElement||e.relatedTarget;t&&t.classList.contains("info-popover-panel")||this.closePopover()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z.T),g.Y36(g.s_b))},e.\u0275cmp=g.Xpm({type:e,selectors:[["info-popover"]],viewQuery:function(e,t){var n;(1&e&&(g.Gf(A,5,g.SBq),g.Gf(q,5)),2&e)&&(g.iGM(n=g.CRH())&&(t.infoButton=n.first),g.iGM(n=g.CRH())&&(t.content=n.first))},inputs:{wider:"wider"},ngContentSelectors:I,decls:5,vars:0,consts:[["type","button","mat-icon-button","",3,"click","mouseenter","mouseleave"],["svgIcon","info",1,"info-icon"],["infoIcon",""],["popoverContent",""]],template:function(e,t){1&e&&(g.F$t(),g.TgZ(0,"button",0),g.NdJ("click",function(){return t.togglePopover()})("mouseenter",function(){return t.openPopover()})("mouseleave",function(e){return t.onMouseLeave(e)}),g._UZ(1,"mat-icon",1,2),g.qZA(),g.YNc(3,T,1,0,"ng-template",null,3,g.W1O))},directives:[x.lW,w.Hw],styles:["info-popover .mat-icon-button{vertical-align:middle;color:var(--be-secondary-text);cursor:help}.info-popover-panel{display:block;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;padding:15px;max-width:350px}.info-popover-panel.wider{max-width:550px}.info-popover-panel .title{font-size:1.6rem;margin-bottom:8px}.info-popover-panel .description{margin-bottom:5px;color:var(--be-secondary-text)}.info-popover-panel .link{margin-top:5px;padding-top:5px;border-top:var(--be-divider-default)}.info-popover-panel .link .mat-icon{vertical-align:middle;margin-right:5px;color:var(--be-link)}.info-popover-panel .link a:hover{text-decoration:underline}.info-popover-panel ol,.info-popover-panel ul{padding-left:15px;margin:0}"],encapsulation:2,changeDetection:0}),e}(),M=n(54262),O=n(1303),P=n(32141),U=n(31176),R=n(11436),J=n(76403),N=n(18256),Y=n(63297);function E(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"button",13),g.NdJ("click",function(){return g.CHM(n),g.oxw().showCrupdateWorkspaceModal()}),g._UZ(1,"mat-icon",14),g.TgZ(2,"span",1),g._uU(3,"Add New Workspace"),g.qZA(),g.qZA()}}function $(e,t){if(1&e){var n=g.EpF();g.ynx(0),g.TgZ(1,"button",22),g.NdJ("click",function(){g.CHM(n);var e=g.oxw().$implicit;return g.oxw().showCrupdateWorkspaceModal(e)}),g.ALo(2,"trans"),g._UZ(3,"mat-icon",25),g.qZA(),g.TgZ(4,"button",22),g.NdJ("click",function(){g.CHM(n);var e=g.oxw().$implicit;return g.oxw().maybeDeleteWorkspace(e)}),g.ALo(5,"trans"),g._UZ(6,"mat-icon",26),g.qZA(),g.BQk()}2&e&&(g.xp6(1),g.Q6J("matTooltip",g.lcZ(2,2,"Edit workspace")),g.xp6(3),g.Q6J("matTooltip",g.lcZ(5,4,"Delete workspace")))}function Q(e,t){if(1&e){var n=g.EpF();g.ynx(0),g.TgZ(1,"button",22),g.NdJ("click",function(){g.CHM(n);var e=g.oxw().$implicit;return g.oxw().maybeLeaveWorkspace(e)}),g.ALo(2,"trans"),g._UZ(3,"mat-icon",27),g.qZA(),g.BQk()}2&e&&(g.xp6(1),g.Q6J("matTooltip",g.lcZ(2,1,"Leave workspace")))}function L(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td",15),g._uU(2),g.qZA(),g.TgZ(3,"td",16),g._UZ(4,"user-column",17),g.qZA(),g.TgZ(5,"td",18),g._uU(6),g.qZA(),g.TgZ(7,"td",19),g._uU(8),g.qZA(),g.TgZ(9,"td",20),g._uU(10),g.ALo(11,"formattedDate"),g.qZA(),g.TgZ(12,"td",21),g.TgZ(13,"button",22),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().openWorkspaceMembersModal(e)}),g.ALo(14,"trans"),g._UZ(15,"mat-icon",23),g.qZA(),g.YNc(16,$,7,6,"ng-container",24),g.YNc(17,Q,4,3,"ng-container",24),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,o=g.oxw();g.xp6(2),g.Oqu(i.name),g.xp6(2),g.Q6J("user",i.owner),g.xp6(2),g.Oqu((null==i.currentUser?null:i.currentUser.role_name)||"-"),g.xp6(2),g.Oqu(i.members_count||"-"),g.xp6(2),g.Oqu(g.lcZ(11,8,i.updated_at)),g.xp6(3),g.Q6J("matTooltip",g.lcZ(14,10,"Manage Members")),g.xp6(3),g.Q6J("ngIf",i.owner_id===o.currentUser.get("id")),g.xp6(1),g.Q6J("ngIf",i.owner_id!==o.currentUser.get("id"))}}function F(e,t){1&e&&(g.TgZ(0,"no-results-message",28),g.TgZ(1,"span",29),g._uU(2,"No workspaces have been created yet"),g.qZA(),g.qZA())}var D,G=function(){var e=function(){function e(t,n,i,o,a,r,s){l(this,e),this.datatable=t,this.currentUser=n,this.workspaces=i,this.toast=o,this.router=a,this.modal=r,this.workspaceConfig=s,this.workspaces$=this.datatable.data$}return c(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:s.b.BASE_URI,staticParams:{userId:this.currentUser.get("id")}})}},{key:"maybeDeleteWorkspace",value:function(e){var t=this;this.datatable.confirmResourceDeletion("workspace").subscribe(function(){t.workspaces.delete([e.id]).subscribe(function(){t.datatable.reset(),t.toast.open("Workspace deleted.")},function(e){t.toast.open(e.message||r.v.Default)})})}},{key:"showCrupdateWorkspaceModal",value:function(e){this.datatable.openCrupdateResourceModal(u.Z,{workspace:e}).subscribe()}},{key:"openWorkspaceMembersModal",value:function(e){this.modal.open(p.t,{workspace:e})}},{key:"filterByUser",value:function(){return-1===this.router.url.indexOf("admin")}},{key:"maybeLeaveWorkspace",value:function(e){var t=this;this.modal.open(f.z,m.W).afterClosed().subscribe(function(n){n&&t.workspaces.deleteMember(e.id,t.currentUser.get("id")).subscribe(function(){return t.datatable.reset()})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(d.x),g.Y36(v.I),g.Y36(s.b),g.Y36(b.F),g.Y36(a.F0),g.Y36(k.u),g.Y36(h.F))},e.\u0275cmp=g.Xpm({type:e,selectors:[["workspace-index"]],features:[g._Bn([d.x])],decls:34,vars:8,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","workspaces"],[1,"action-buttons"],["mat-raised-button","","color","accent","class","button-with-icon",3,"click",4,"ngIf"],[1,"datatable","responsive-table"],[1,"material-table"],["table-sort-header","","trans",""],["table-sort-header","owner_id","trans",""],["table-sort-header","members_count","trans",""],[4,"ngFor","ngForOf"],["svgImage","shared-workspace.svg",4,"ngIf"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],["data-label","Name"],["data-label","Owner"],[3,"user"],["data-label","Your Role","trans",""],["data-label","Members"],["data-label","Last Updated"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","group-add"],[4,"ngIf"],["svgIcon","edit"],["svgIcon","delete"],["svgIcon","exit-to-app"],["svgImage","shared-workspace.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h1",1),g.TgZ(2,"span",1),g._uU(3,"Workspaces"),g.qZA(),g.TgZ(4,"info-popover"),g.TgZ(5,"strong",1),g._uU(6,"Workspaces and Teammates"),g.qZA(),g.TgZ(7,"p",1),g._uU(8),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",2),g._UZ(10,"datatable-filters",3),g.TgZ(11,"div",4),g.YNc(12,E,4,0,"button",5),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",6),g.TgZ(14,"table",7),g.TgZ(15,"thead"),g.TgZ(16,"tr"),g.TgZ(17,"th",8),g._uU(18,"Name"),g.qZA(),g.TgZ(19,"th",9),g._uU(20,"Owner"),g.qZA(),g.TgZ(21,"th",1),g._uU(22,"Your Role"),g.qZA(),g.TgZ(23,"th",10),g._uU(24,"Members"),g.qZA(),g.TgZ(25,"th",1),g._uU(26,"Last Updated"),g.qZA(),g._UZ(27,"th"),g.qZA(),g.qZA(),g.TgZ(28,"tbody"),g.YNc(29,L,18,12,"tr",11),g.ALo(30,"async"),g.qZA(),g.qZA(),g.YNc(31,F,3,0,"no-results-message",12),g.ALo(32,"async"),g._UZ(33,"datatable-footer"),g.qZA()),2&e&&(g.xp6(8),g.Oqu(t.workspaceConfig.description),g.xp6(4),g.Q6J("ngIf",t.currentUser.hasPermission("workspaces.create")),g.xp6(17),g.Q6J("ngForOf",g.lcZ(30,4,t.workspaces$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(32,6,t.datatable.paginator.noResults$)))},directives:[_.P,C,M.h,i.O5,O.p,i.sg,P.V,x.lW,w.Hw,U.r,R.gM,J.U],pipes:[i.Ov,N.l,Y.R],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),e}(),S=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.Bz.forChild([{path:"",component:G}])],a.Bz]}),e}(),B=((D=function e(){l(this,e)}).\u0275fac=function(e){return new(e||D)},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({imports:[[i.ez,o.WorkspaceModule,S]]}),D)},99905:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var i=[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5}]},31176:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i=n(37716),o=n(38583);function a(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"img",1),i.TgZ(2,"div",2),i.TgZ(3,"div"),i._uU(4),i.qZA(),i.TgZ(5,"div",3),i._uU(6),i.qZA(),i.qZA(),i.BQk()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("src",n.user.avatar,i.LSH),i.xp6(3),i.Oqu(n.user.display_name),i.xp6(2),i.Oqu(n.user.email)}}var r=function(){var e=function e(){l(this,e),this.showEmail=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["user-column"]],hostAttrs:[1,"column-with-image"],inputs:{user:"user",showEmail:"showEmail"},decls:1,vars:1,consts:[[4,"ngIf"],["alt","",3,"src"],[1,"content"],[1,"email","secondary"]],template:function(e,t){1&e&&i.YNc(0,a,7,3,"ng-container",0),2&e&&i.Q6J("ngIf",t.user)},directives:[o.O5],styles:[""],changeDetection:0}),e}()},54262:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var i=n(37716),o=n(99883),a=n(75499),r=function(){var e=function(){function e(t){l(this,e),this.datable=t}return c(e,[{key:"onFilterChange",value:function(e){this.datable.filters$.next({filters:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.x))},e.\u0275cmp=i.Xpm({type:e,selectors:[["datatable-filters"]],inputs:{pluralName:"pluralName",filters:"filters"},decls:1,vars:3,consts:[[3,"searchControl","pluralName","filters","filterChange"]],template:function(e,t){1&e&&(i.TgZ(0,"search-input-with-filters",0),i.NdJ("filterChange",function(e){return t.onFilterChange(e)}),i.qZA()),2&e&&i.Q6J("searchControl",t.datable.searchControl)("pluralName",t.pluralName)("filters",t.filters)},directives:[a.k],styles:[""],changeDetection:0}),e}()},32141:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var i=n(3679),o=n(45435),a=n(88002),r=n(37716),s=n(99883),u=n(38583),d=n(51095),p=n(76627),f=n(15515),m=n(63297);function h(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",7),r._uU(2,"Items per page"),r.qZA(),r.TgZ(3,"div",8),r.TgZ(4,"select",9),r.TgZ(5,"option",10),r._uU(6,"10"),r.qZA(),r.TgZ(7,"option",10),r._uU(8,"15"),r.qZA(),r.TgZ(9,"option",10),r._uU(10,"20"),r.qZA(),r.TgZ(11,"option",10),r._uU(12,"50"),r.qZA(),r.TgZ(13,"option",10),r._uU(14,"100"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw();r.xp6(4),r.Q6J("formControl",n.perPageControl),r.xp6(1),r.Q6J("ngValue",10),r.xp6(2),r.Q6J("ngValue",15),r.xp6(2),r.Q6J("ngValue",20),r.xp6(2),r.Q6J("ngValue",50),r.xp6(2),r.Q6J("ngValue",100)}}function g(e,t){if(1&e&&(r.TgZ(0,"div",11),r._uU(1),r.ALo(2,"trans"),r.ALo(3,"number"),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.HOy(" ",n.from," - ",n.to," ",r.lcZ(2,4,"of")," ",r.lcZ(3,6,n.totalRecords)," ")}}var v=function(){var e=function(){function e(t,n){l(this,e),this.datable=t,this.cd=n,this.hidePerPage=!1,this.perPageControl=new i.NI(15)}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datable.paginator.response$.pipe((0,o.h)(function(e){return!!(null==e?void 0:e.pagination)}),(0,a.U)(function(e){return e.pagination})).subscribe(function(t){e.totalRecords=t.total,e.to=Math.min(t.per_page*t.current_page,e.totalRecords),e.from=Math.max(e.to-t.per_page,1),e.havePrevious=e.datable.paginator.canLoadPrevPage(),e.haveNext=e.datable.paginator.canLoadNextPage(),e.perPageControl.setValue(parseInt(""+t.per_page),{emitEvent:!1}),e.cd.markForCheck()}),this.perPageControl.valueChanges.subscribe(function(t){e.datable.paginator.changePerPage(t)})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe(),this.datable.destroy()}},{key:"previousPage",value:function(){this.datable.paginator.previousPage()}},{key:"nextPage",value:function(){this.datable.paginator.nextPage()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.x),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(e,t){1&e&&(r.YNc(0,h,15,6,"div",0),r.TgZ(1,"div",1),r.YNc(2,g,4,8,"div",2),r.TgZ(3,"button",3),r.NdJ("click",function(){return t.previousPage()}),r.ALo(4,"async"),r._UZ(5,"mat-icon",4),r.qZA(),r.TgZ(6,"button",3),r.NdJ("click",function(){return t.nextPage()}),r.ALo(7,"async"),r._UZ(8,"mat-icon",5),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngIf",!t.hidePerPage),r.xp6(2),r.Q6J("ngIf",t.from&&t.to&&t.totalRecords),r.xp6(1),r.Q6J("disabled",!t.havePrevious||r.lcZ(4,4,t.datable.paginator.loading$)),r.xp6(3),r.Q6J("disabled",!t.haveNext||r.lcZ(7,6,t.datable.paginator.loading$)))},directives:[u.O5,d.lW,p.Hw,f.P,i.EJ,i.JJ,i.oH,i.YN,i.Kr],pipes:[u.Ov,m.R,u.JJ],styles:["[_nghost-%COMP%]{display:flex;padding:0 8px;align-items:center;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),e}()},68145:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(26215),o=n(3679),a=n(22238),r=n(68939),s=n(37716),u=n(87991),d=n(35718),p=n(38583),f=n(76627),m=n(15515),h=n(51095);function g(e,t){1&e&&(s.TgZ(0,"span",6),s._uU(1,"Create Workspace"),s.qZA())}function v(e,t){1&e&&(s.TgZ(0,"span",6),s._uU(1,"Update Workspace"),s.qZA())}function b(e,t){if(1&e&&(s.TgZ(0,"div",15),s._uU(1),s.qZA()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Oqu(n.name)}}function k(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"form",7),s.NdJ("ngSubmit",function(){return s.CHM(n),s.oxw().confirm()}),s.TgZ(1,"mat-dialog-content",8),s.TgZ(2,"div",9),s.TgZ(3,"label",10),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",11),s.YNc(6,b,2,1,"div",12),s.qZA(),s.qZA(),s.TgZ(7,"mat-dialog-actions"),s.TgZ(8,"button",13),s.NdJ("click",function(){return s.CHM(n),s.oxw().close()}),s._uU(9,"Cancel"),s.qZA(),s.TgZ(10,"button",14),s.ALo(11,"async"),s._uU(12),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=t.ngIf,o=s.oxw();s.Q6J("formGroup",o.form),s.xp6(6),s.Q6J("ngIf",i.name),s.xp6(4),s.Q6J("disabled",s.lcZ(11,4,o.loading$)),s.xp6(2),s.Oqu(o.data.workspace?"Update":"Create")}}var _=function(){var e=function(){function e(t,n,a,r){l(this,e),this.dialogRef=t,this.data=n,this.workspaces=a,this.toast=r,this.loading$=new i.X(!1),this.errors$=new i.X({}),this.form=new o.cw({name:new o.NI}),n.workspace&&this.form.patchValue(n.workspace)}return c(e,[{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.workspace?this.workspaces.update(this.data.workspace.id,this.form.value):this.workspaces.create(this.form.value)).pipe((0,r.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open(e.data.workspace?"Workspace updated.":"Workspace created."),e.close(t.workspace)},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.so),s.Y36(a.WI),s.Y36(u.b),s.Y36(d.F))},e.\u0275cmp=s.Xpm({type:e,selectors:[["crupdate-workspace-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container","name-container"],["for","crupdate-workspace-name","trans",""],["type","text","id","crupdate-workspace-name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s.YNc(2,g,2,0,"span",2),s.YNc(3,v,2,0,"span",2),s.qZA(),s.TgZ(4,"button",3),s.NdJ("click",function(){return t.close()}),s._UZ(5,"mat-icon",4),s.qZA(),s.qZA(),s.YNc(6,k,13,6,"form",5),s.ALo(7,"async")),2&e&&(s.xp6(2),s.Q6J("ngIf",!t.data.workspace),s.xp6(1),s.Q6J("ngIf",t.data.workspace),s.xp6(3),s.Q6J("ngIf",s.lcZ(7,3,t.errors$)))},directives:[a.uh,p.O5,f.Hw,m.P,o.JL,o.sg,a.xY,o.Fj,o.JJ,o.u,o.Q7,o.wO,a.H8,h.lW],pipes:[p.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e}()},34899:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i={title:"Leave Workspace",body:"Are you sure you want to leave this workspace?",bodyBold:"All resources you've created in the workspace will be transferred to workspace owner.",ok:"Leave"}},97335:function(t,n,i){"use strict";i.d(n,{t:function(){return S}});var o=i(26215),a=i(3679),r=i(22238),s=i(68939),u=(function(e){e.LEFT_WORKSPACE="You have left the workspace.",e.MEMBER_DELETED="Member Deleted.",e.INVITES_SENT="Invites Sent.",e.INVITE_RESENT="Resent invite.",e.ROLE_ASSIGNED="Role Assigned."}(u||(u={})),u),d=i(8208),p=i(17238),f=i(34899),m=i(37716),h=i(87991),g=i(35718),v=i(74388),b=i(24688),k=i(15381),_=i(15515),y=i(76627),Z=i(38583),x=i(33935),w=i(44666),A=i(51095),q=i(12178),T=i(64833),I=i(11436),C=i(63297);function M(e,t){1&e&&m._UZ(0,"mat-progress-bar",23)}function O(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.TgZ(1,"div",17),m.TgZ(2,"label",18),m._uU(3,"Invite by email"),m.qZA(),m.TgZ(4,"div",19),m._UZ(5,"chip-input",20),m.TgZ(6,"button",21),m.NdJ("click",function(){return m.CHM(n),m.oxw().invitePeople()}),m.ALo(7,"async"),m.ALo(8,"async"),m._uU(9,"Invite "),m.qZA(),m.qZA(),m.qZA(),m.YNc(10,M,1,0,"mat-progress-bar",22),m.ALo(11,"async"),m.qZA()}if(2&e){var i,o=m.oxw();m.Q6J("@fadeIn",void 0),m.xp6(5),m.Q6J("emailsInput",!0)("formControl",o.peopleToInvite),m.xp6(1),m.Q6J("disabled",m.lcZ(7,5,o.inviting$)||!(null!=(i=m.lcZ(8,7,o.peopleToInvite.valueChanges))&&i.length)),m.xp6(4),m.Q6J("ngIf",m.lcZ(11,9,o.inviting$))}}function P(e,t){1&e&&(m.TgZ(0,"li",24),m._UZ(1,"skeleton",25),m.TgZ(2,"div",26),m._UZ(3,"skeleton"),m._UZ(4,"skeleton"),m.qZA(),m.qZA())}var U=function(){return[1,2,3]};function R(e,t){1&e&&(m.TgZ(0,"ul",12),m.YNc(1,P,5,0,"li",13),m.qZA()),2&e&&(m.Q6J("@fadeOut",void 0),m.xp6(1),m.Q6J("ngForOf",m.DdM(2,U)))}function J(e,t){1&e&&(m.TgZ(0,"span",38),m._uU(1,"(You)"),m.qZA())}function N(e,t){if(1&e){var n=m.EpF();m.ynx(0),m._uU(1," \xb7 "),m.TgZ(2,"button",39),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2).$implicit;return m.oxw().maybeResendInvite(e)}),m.ALo(3,"async"),m._uU(4,"Resend Invite"),m.qZA(),m.BQk()}if(2&e){var i=m.oxw(3);m.xp6(2),m.Q6J("disabled",m.lcZ(3,1,i.inviting$))}}function Y(e,t){if(1&e&&(m.TgZ(0,"span"),m._uU(1," \xb7 "),m.TgZ(2,"span",34),m._uU(3,"Invited"),m.qZA(),m.YNc(4,N,5,3,"ng-container",30),m.qZA()),2&e){var n=m.oxw(2);m.xp6(4),m.Q6J("ngIf",n.canInvite)}}function E(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",40),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw().maybeDeleteMember(e)}),m.ALo(1,"async"),m._UZ(2,"mat-icon",3),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw();m.ekj("visually-hidden",i.is_owner||!o.canDelete),m.Q6J("disabled",m.lcZ(1,3,o.deleting$))}}function $(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",41),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw().maybeLeaveWorkspace(e)}),m.ALo(1,"trans"),m.ALo(2,"async"),m._UZ(3,"mat-icon",42),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("matTooltip",m.lcZ(1,2,"Leave workspace"))("disabled",m.lcZ(2,4,i.deleting$))}}var Q=function(e){return{member:e}};function L(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"li",24),m.NdJ("@fadeIn.done",function(){return m.CHM(n),m.oxw(),m.MAs(6).style.overflow="auto"}),m._UZ(1,"img",27),m.TgZ(2,"div",26),m.TgZ(3,"div",28),m.TgZ(4,"span"),m._uU(5),m.qZA(),m._uU(6," "),m.YNc(7,J,2,0,"span",29),m.YNc(8,Y,5,1,"span",30),m.qZA(),m.TgZ(9,"div",31),m._uU(10),m.qZA(),m.qZA(),m.TgZ(11,"div",32),m.TgZ(12,"button",33),m.TgZ(13,"span",34),m._uU(14),m.qZA(),m._UZ(15,"mat-icon",35),m.qZA(),m.YNc(16,E,3,5,"button",36),m.YNc(17,$,4,6,"button",37),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw(),a=m.MAs(19);m.Q6J("@fadeIn",void 0),m.xp6(1),m.Q6J("src",i.avatar,m.LSH),m.xp6(4),m.Oqu(i.display_name),m.xp6(2),m.Q6J("ngIf",o.currentUser.get("id")===i.id),m.xp6(1),m.Q6J("ngIf","invite"===i.model_type),m.xp6(2),m.Oqu(i.email),m.xp6(2),m.ekj("not-clickable",i.is_owner||!o.canEdit),m.Q6J("matMenuTriggerFor",a)("matMenuTriggerData",m.VKq(13,Q,i)),m.xp6(2),m.Oqu(i.role_name),m.xp6(2),m.Q6J("ngIf",i.is_owner||o.currentUser.get("id")!==i.id),m.xp6(1),m.Q6J("ngIf",!i.is_owner&&o.currentUser.get("id")===i.id)}}function F(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",44),m.NdJ("click",function(){var e=m.CHM(n).$implicit,t=m.oxw().member;return m.oxw().changeRole(t,e)}),m._UZ(1,"mat-icon",45),m.TgZ(2,"div",46),m.TgZ(3,"div",47),m._uU(4),m.qZA(),m.TgZ(5,"div",48),m._uU(6),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,o=m.oxw().member;m.ekj("active",o.role_id===i.id),m.xp6(1),m.ekj("visually-hidden",o.role_id!==i.id),m.xp6(3),m.Oqu(i.name),m.xp6(2),m.Oqu(i.description)}}function D(e,t){if(1&e&&(m.YNc(0,F,7,6,"div",43),m.ALo(1,"async")),2&e){var n=m.oxw();m.Q6J("ngForOf",m.lcZ(1,1,n.workspaceRoles$))}}var G=function(e){return{workspace:e}},S=function(){var t=function(){function t(e,n,i,r,s,c,u){l(this,t),this.dialogRef=e,this.data=n,this.workspaces=i,this.toast=r,this.valueLists=s,this.currentUser=c,this.modal=u,this.inviting$=new o.X(!1),this.deleting$=new o.X(!1),this.loadingMembers$=new o.X(!1),this.workspaceRoles$=new o.X([]),this.members$=new o.X([]),this.peopleToInvite=new a.NI([]),this.canInvite=!1,this.canEdit=!1,this.canDelete=!1}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingMembers$.next(!0),this.valueLists.get(["workspaceRoles"]).subscribe(function(e){t.workspaceRoles$.next(e.workspaceRoles)}),this.workspaces.get(this.data.workspace.id).pipe((0,s.x)(function(){return t.loadingMembers$.next(!1)})).subscribe(function(n){t.members$.next([].concat(e(n.workspace.invites),e(n.workspace.members))),t.setCurrentUserPermissions()})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"invitePeople",value:function(){var t=this,n=this.peopleToInvite.value.filter(function(e){return!t.members$.value.find(function(t){return t.email===e})});if(!n.length)return this.peopleToInvite.reset(),void this.toast.open("All invited people are already members.");var i={emails:n,roleId:(this.workspaceRoles$.value.find(function(e){return e.default})||this.workspaceRoles$.value[0]).id};this.inviting$.next(!0),this.workspaces.invitePeople(this.data.workspace.id,i).pipe((0,s.x)(function(){return t.inviting$.next(!1)})).subscribe(function(n){t.members$.next([].concat(e(t.members$.value),e(n.invites))),t.peopleToInvite.reset(),t.toast.open(u.INVITES_SENT)})}},{key:"resendInvite",value:function(e){var t=this;this.inviting$.next(!0),this.workspaces.resendInvite(this.data.workspace.id,e.id).pipe((0,s.x)(function(){return t.inviting$.next(!1)})).subscribe(function(){t.toast.open(u.INVITE_RESENT)})}},{key:"changeRole",value:function(t,n){var i=this;this.workspaces.changeRole(this.data.workspace.id,t,n.id).subscribe(function(){i.toast.open(u.ROLE_ASSIGNED);var o=e(i.members$.value),a=o.findIndex(function(e){return e.id===t.id});o[a].role_name=n.name,o[a].role_id=n.id,i.members$.next(o)})}},{key:"deleteMember",value:function(t){var n=this;this.deleting$.next(!0),("member"===t.model_type?this.workspaces.deleteMember(this.data.workspace.id,t.id):this.workspaces.deleteInvite(t.id)).pipe((0,s.x)(function(){return n.deleting$.next(!1)})).subscribe(function(){var i=e(n.members$.value),o=i.findIndex(function(e){return t.id&&e.model_type===t.model_type});i.splice(o,1),n.members$.next(i),t.id===n.currentUser.get("id")?(n.close(),n.toast.open(u.LEFT_WORKSPACE)):n.toast.open(u.MEMBER_DELETED)})}},{key:"maybeDeleteMember",value:function(e){var t=this;this.modal.show(d.z,{title:"Delete Member",body:"Are you sure you want to delete this member?",bodyBold:"All workspace resources created by this member will be transferred to workspace owner.",ok:"Delete"}).afterClosed().subscribe(function(n){n&&t.deleteMember(e)})}},{key:"maybeResendInvite",value:function(e){var t=this;this.modal.show(d.z,{title:"Resend Invite",body:"Are you sure you want to send this invite again?",ok:"Resend"}).afterClosed().subscribe(function(n){n&&t.resendInvite(e)})}},{key:"maybeLeaveWorkspace",value:function(e){var t=this;this.modal.show(d.z,f.W).afterClosed().subscribe(function(n){n&&t.deleteMember(e)})}},{key:"setCurrentUserPermissions",value:function(){var e=this,t=this.members$.value.find(function(t){return t.id===e.currentUser.get("id")});this.canInvite=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.invite"===e.name}),this.canEdit=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.update"===e.name}),this.canDelete=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.delete"===e.name})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(r.so),m.Y36(r.WI),m.Y36(h.b),m.Y36(g.F),m.Y36(v.l),m.Y36(b.I),m.Y36(k.u))},t.\u0275cmp=m.Xpm({type:t,selectors:[["manage-workspace-members-modal"]],decls:21,vars:10,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[2,"overflow","hidden"],["container",""],["class","invite-container",4,"ngIf"],[1,"header"],["svgIcon","people"],["trans","",1,"text",3,"transValues"],[1,"animation-container"],["class","member-list unstyled-list",4,"ngIf"],[1,"member-list","unstyled-list"],["class","member-list-item",4,"ngFor","ngForOf"],["selectRoleMenu","matMenu"],["matMenuContent",""],[1,"invite-container"],[1,"input-container"],["for","workspace-emails-input","trans",""],[1,"input-with-action"],["id","workspace-emails-input","placeholder","Email addresses",3,"emailsInput","formControl"],["type","button","mat-flat-button","","color","accent","trans","",1,"add-tags-button",3,"disabled","click"],["mode","indeterminate","color","accent",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"member-list-item"],["variant","avatar"],[1,"details"],["alt","",3,"src"],[1,"email"],["class","strong","trans","",4,"ngIf"],[4,"ngIf"],[1,"invited_at"],[1,"actions"],["type","button","mat-stroked-button","",1,"role-trigger-button",3,"matMenuTriggerFor","matMenuTriggerData"],["trans",""],["svgIcon","keyboard-arrow-down",1,"dropdown-icon"],["type","button","class","delete-member-button","mat-icon-button","",3,"visually-hidden","disabled","click",4,"ngIf"],["type","button","class","delete-member-button","mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["trans","",1,"strong"],["type","button","trans","",1,"no-style","resend-invite-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"matTooltip","disabled","click"],["svgIcon","exit-to-app"],["class","multiline-mat-menu-item with-icon","mat-menu-item","","trans","",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","trans","",1,"multiline-mat-menu-item","with-icon",3,"click"],["svgIcon","check"],[1,"menu-item-content"],["trans","",1,"title"],["trans","",1,"description"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"h2",1),m._uU(2,"Manage workspace members"),m.qZA(),m.TgZ(3,"button",2),m.NdJ("click",function(){return t.close()}),m._UZ(4,"mat-icon",3),m.qZA(),m.qZA(),m.TgZ(5,"mat-dialog-content",4,5),m.YNc(7,O,12,11,"div",6),m.TgZ(8,"div",7),m._UZ(9,"mat-icon",8),m.TgZ(10,"span",9),m._uU(11,"Members of :workspace"),m.qZA(),m.qZA(),m.TgZ(12,"div",10),m.YNc(13,R,2,3,"ul",11),m.ALo(14,"async"),m.TgZ(15,"ul",12),m.YNc(16,L,18,15,"li",13),m.ALo(17,"async"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"mat-menu",null,14),m.YNc(20,D,2,3,"ng-template",15),m.qZA()),2&e&&(m.xp6(7),m.Q6J("ngIf",t.canInvite),m.xp6(3),m.Q6J("transValues",m.VKq(8,G,t.data.workspace.name)),m.xp6(3),m.Q6J("ngIf",m.lcZ(14,4,t.loadingMembers$)),m.xp6(3),m.Q6J("ngForOf",m.lcZ(17,6,t.members$)))},directives:[r.uh,_.P,y.Hw,r.xY,Z.O5,Z.sg,x.VK,x.KA,w.S,a.JJ,a.oH,A.lW,q.pW,T._,x.p6,I.gM,x.OP],pipes:[Z.Ov,C.R],styles:["[_nghost-%COMP%]{display:block;width:600px;max-width:100%}chip-input[_ngcontent-%COMP%]{flex:1}.invite-container[_ngcontent-%COMP%]{margin-bottom:30px;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{vertical-align:middle}.animation-container[_ngcontent-%COMP%]{position:relative}.member-list-item[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.member-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:4px}.member-list-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{flex:1 1 auto}.member-list-item[_ngcontent-%COMP%]   .delete-member-button[_ngcontent-%COMP%], .member-list-item[_ngcontent-%COMP%]   .invited_at[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.not-clickable[_ngcontent-%COMP%]{pointer-events:none}.not-clickable[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.dropdown-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.resend-invite-button[_ngcontent-%COMP%]{color:var(--be-link)}.role-trigger-button[_ngcontent-%COMP%]{margin-right:8px;font-size:1.3rem;font-weight:400}"],data:{animation:[(0,p.X$)("fadeIn",[(0,p.eR)(":enter",[(0,p.oB)({opacity:0}),(0,p.jt)("325ms ease-in",(0,p.oB)({opacity:1}))])]),(0,p.X$)("fadeOut",[(0,p.eR)(":leave",[(0,p.oB)({opacity:1,position:"absolute",left:"0",right:"0"}),(0,p.jt)("325ms ease-out",(0,p.oB)({opacity:0}))])])]},changeDetection:0}),t}()},41401:function(e,t,n){"use strict";n.r(t),n.d(t,{WorkspaceModule:function(){return x}});var i,o=n(38583),a=n(68145),r=n(97335),s=n(76627),c=n(51095),u=n(22238),d=n(49866),p=n(3679),f=n(82613),m=n(58193),h=n(37716),g=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[o.ez,s.Ps,c.ot]]}),e}(),v=n(11436),b=n(98097),k=n(12178),_=n(87446),y=n(87738),Z=n(33935),x=((i=function e(){l(this,e)}).components={crupdateModal:a.Z,manageMembers:r.t},i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[o.ez,p.u5,p.UX,d.N,m.x,g,b.X,_.m,y.G,s.Ps,c.ot,u.Is,f.Fk,v.AV,k.Cv,Z.Tx]]}),i)}}])}();
//# sourceMappingURL=752-es5.e37e3d580fbbb6093d7a.js.map